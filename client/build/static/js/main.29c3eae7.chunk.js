(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{173:function(e,t,n){},174:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n(40),i=n.n(r),s=(n(173),n(266)),o=n(21),d=(n(174),n(230)),j=n(231),l=n(236),b=n(206),u=n(268),O=n(272),x=n(228),h=n(229),p=n(276),m=n(148),f=n(269),g=n(237),y=n(16),v=n.p+"static/media/logo.bf931f94.png",C="CREATE_USER",S="LOGOUT_USER",A="GET_USER_ROLE",w=function(e){return{type:C,payload:e}},I=function(){return{type:S}},N=n(2),D=n(14),k=n.n(D),z="/api",T=n(5),E=function(e,t){switch(t.type){case C:return Object(T.a)({},t.payload);case S:return"";case A:return Object(T.a)(Object(T.a)({},e),{},{role:t.payload});default:return e}},R=Object(a.createContext)(),_=function(e){var t=e.children,n=Object(a.useReducer)(E,{},(function(){if(localStorage.getItem("user")){var e=localStorage.getItem("user");return JSON.parse(e)}return""})),r=Object(N.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){0===i.role||1===i.role?k.a.get("".concat(z,"/user/get-role")).catch((function(e){return console.log(e)})).then((function(e){var t,n=e.data;s((t=n.role,{type:A,payload:t}))})):void 0===i.role&&s(I())}),[i.role]),Object(a.useEffect)((function(){localStorage.setItem("user",JSON.stringify(i))}),[i]),Object(c.jsx)(R.Provider,{value:{user:i,userDispatch:s},children:t})},P=function(e){return k.a.post("".concat(z,"/signup"),Object(T.a)({},e)).catch((function(e){return console.log(e)}))},M=n.p+"static/media/shopping-cart.891d6e79.svg",W=n(9),L=function(e,t,n){var c=e.find((function(e){return e.id===t}));return"increase"===n?c.quantity=10!==c.quantity?c.quantity+1:c.quantity:"decrease"===n&&(c.quantity=1!==c.quantity?c.quantity-1:c.quantity),Object(W.a)(e)},U="SHOW_DRAWER",q="CLOSE_DRAWER",F="ADD_TO_CART",G="DELETE_ITEM_FROM_CART",H="INCREASE_DECREASE_ITEM_QUANTITY",J="CLEAR_CART",Y=function(e,t){switch(t.type){case U:return Object(T.a)(Object(T.a)({},e),{},{showDrawer:!0});case q:return Object(T.a)(Object(T.a)({},e),{},{showDrawer:!1});case F:return Object(T.a)(Object(T.a)({},e),{},{cart:[].concat(Object(W.a)(e.cart),[t.payload])});case G:return Object(T.a)(Object(T.a)({},e),{},{cart:(n=e.cart,c=t.payload,n.filter((function(e){return e.id!==c})))});case H:return Object(T.a)(Object(T.a)({},e),{},{cart:L(e.cart,t.payload,t.quantityState)});case J:return Object(T.a)(Object(T.a)({},e),{},{cart:[]});default:return e}var n,c},B=Object(a.createContext)(),Q=function(e){var t=e.children,n=Object(a.useReducer)(Y,{},(function(){return{showDrawer:!1,cart:JSON.parse(localStorage.getItem("cart"))?Object(W.a)(JSON.parse(localStorage.getItem("cart"))):[]}})),r=Object(N.a)(n,2),i=r[0],s=r[1];return Object(a.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(i.cart))}),[i.cart]),Object(c.jsx)(B.Provider,{value:{item:i,itemDispatch:s},children:t})},K=function(){var e=Object(b.c)("dark"),t=e.colorMode,n=e.toggleColorMode,r=Object(u.a)(),i=Object(O.a)({base:"none",md:""}),s=Object(O.a)({base:"",md:"none"}),o=Object(a.useContext)(R),C=o.user,S=o.userDispatch,A=Object(a.useContext)(B).item,w=A.cart.length>0&&A.cart.length;return Object(c.jsx)("nav",{children:Object(c.jsxs)(x.a,{display:"flex",justifyContent:"space-between",alignItems:"center",py:"20px",children:[Object(c.jsx)(h.a,{as:"h3",size:"md",fontWeight:"bold",children:Object(c.jsxs)(x.a,{d:"flex",alignItems:"center",children:[Object(c.jsxs)(x.a,{d:"flex",alignItems:"center",as:y.b,to:"/",children:[Object(c.jsx)(p.a,{src:v,h:"50px"}),"Pizzetta"]}),Object(c.jsx)(m.a,{mx:"10px",_focus:{outline:"none"},onClick:n,children:"light"===t?Object(c.jsx)(d.a,{}):Object(c.jsx)(j.a,{})})]})}),Object(c.jsxs)(x.a,{display:"flex",w:["50%","40%","25%"],alignItems:"center",justifyContent:"space-around",fontWeight:"bold",children:[Object(c.jsxs)(m.a,{as:y.b,to:"/cart",style:{display:i,margin:"0 15px"},bg:"#fff",children:[Object(c.jsx)(p.a,{src:M,h:"25px"}),Object(c.jsx)("p",{style:{color:"#000"},children:w&&"("+w+")"})]}),Object(c.jsxs)(f.a,{children:[Object(c.jsxs)(f.b,{as:m.a,fontSize:"15px",rightIcon:Object(c.jsx)(l.a,{}),children:["Options",Object(c.jsx)(g.a,{as:"span",style:{display:s},children:w&&"("+w+")"})]}),Object(c.jsxs)(f.d,{p:"7px",children:[Object(c.jsxs)(f.c,{as:y.b,to:"/cart",style:{display:s},children:["CART",w&&"("+w+")"]}),C&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f.c,{as:y.b,to:"/user/profile",children:"PROFILE"}),Object(c.jsx)(f.c,{style:{cursor:"pointer"},onClick:function(){S(I()),k.a.post("".concat(z,"/signout")).catch((function(e){return console.log(e)})),r({title:"Sign Out",description:"Signed out complete",status:"success",duration:"2000"})},children:"SIGNOUT"})]}),!C&&Object(c.jsx)(f.c,{as:y.b,to:"/signin",children:"SIGNIN"})]})]}),1===C.role&&Object(c.jsx)(m.a,{as:y.b,to:"/admin",bg:"red.400",children:"ADMIN"})]})]})})},V=n(87),X=function(e){var t=e.component,n=Object(V.a)(e,["component"]),r=Object(a.useContext)(R).user;return Object(c.jsx)(o.b,Object(T.a)(Object(T.a)({},n),{},{render:function(e){return 1===r.role?Object(c.jsx)(t,Object(T.a)({},e)):Object(c.jsx)(o.a,{to:"/error"})}}))},Z=function(e){var t=e.component,n=Object(V.a)(e,["component"]),r=Object(a.useContext)(R).user;return Object(c.jsx)(o.b,Object(T.a)(Object(T.a)({},n),{},{render:function(e){return r.id?Object(c.jsx)(t,Object(T.a)({},e)):Object(c.jsx)(o.a,{to:"/signin"})}}))},$=n(8),ee=n(23),te=n(241),ne=n(243),ce=n(151),ae=n(284),re=n(277),ie=n(273),se=function(e){var t=e.isOpen,n=e.onClose,r=e.addOnName,i=void 0===r?"":r,s=e.addOnType,o=void 0===s?"":s,d=e.addOnPrice,j=void 0===d?"":d,l=e.addOnAvailable,b=void 0===l||l,O=e.formType,h=void 0===O?"create":O,p=e.addOnId,f=void 0===p?"":p,y=Object(u.a)(),v=Object(a.useState)({addOnName:i,addOnType:o,addOnPrice:j,addOnAvailable:b,addOnId:f,formType:h}),C=Object(N.a)(v,2),S=C[0],A=C[1],w=function(e){var t=e.target,n=t.name,c=t.value;A(Object(T.a)(Object(T.a)({},S),{},Object($.a)({},n,c)))};return Object(c.jsxs)(ee.a,{isOpen:t,onClose:n,children:[Object(c.jsx)(ee.h,{}),Object(c.jsx)(ee.d,{children:Object(c.jsx)(ee.b,{children:Object(c.jsxs)(x.a,{my:"15%",children:[Object(c.jsxs)(g.a,{as:"h4",fontWeight:"bold",textAlign:"center",children:[h.toUpperCase()," category"]}),Object(c.jsxs)("form",{children:[Object(c.jsx)(te.a,{children:"AddOn Name"}),Object(c.jsx)(ne.a,{mb:"10px",variant:"outline",name:"addOnName",placeholder:"AddOn Name",type:"text",value:S.addOnName,onChange:w}),Object(c.jsx)(te.a,{children:"AddOn Price"}),Object(c.jsx)(ne.a,{mb:"10px",name:"addOnPrice",variant:"outline",placeholder:"AddOn Price",type:"number",value:S.addOnPrice,onChange:w}),Object(c.jsx)(ce.a,{mb:"10px",value:S.addOnType,onChange:function(e){return A(Object(T.a)(Object(T.a)({},S),{},{addOnType:e}))},children:Object(c.jsxs)(ae.a,{direction:"row",children:[Object(c.jsx)(re.a,{name:"addOnType",value:"topping",checked:"topping"===S.addOnType,children:"Topping"}),Object(c.jsx)(re.a,{name:"addOnType",value:"addon",checked:"topping"===S.addOnType,children:"AddOn"})]})}),Object(c.jsx)(ie.a,{mb:"10px",onChange:function(e){return A(Object(T.a)(Object(T.a)({},S),{},{addOnAvailable:e.target.checked}))},isChecked:S.addOnAvailable,children:"AddOn Available"}),Object(c.jsxs)(x.a,{d:"flex",justifyContent:"space-around",children:[Object(c.jsx)(m.a,{onClick:n,children:"Close"}),Object(c.jsx)(m.a,{onClick:function(e){e.preventDefault(),function(e){return"create"===e.formType?k.a.post("".concat(z,"/admin/addon/create"),Object(T.a)({},e)).catch((function(e){return console.log(e)})):"update"===e.formType?k.a.put("".concat(z,"/admin/addon/update/").concat(e.addOnId),Object(T.a)({},e)).catch((function(e){return console.log(e)})):void 0}(S).then((function(e){var t=e.data;t.message?(y({title:"AddOn",description:t.message,status:"success"}),A({addOnId:"",addOnPrice:"",addOnAvailable:!1,addOnType:"",formType:"",addOnName:""})):t.error&&y({title:"Error",description:t.error,status:"error"})}))},children:h})]})]})]})})})]})},oe=n(250),de=n(251),je=n(252),le=n(249),be=n(270),ue=n(248),Oe=function(e){var t=e.name,n=e.showAlert,a=e.handleCancelClick,r=e.handleDeleteClick;return Object(c.jsx)(ue.a,{isOpen:n,children:Object(c.jsx)(ee.h,{children:Object(c.jsxs)(ue.b,{children:[Object(c.jsxs)(ee.g,{fontSize:"lg",fontWeight:"bold",children:["Delete ",t]}),Object(c.jsx)(ee.b,{children:"Are you sure? You can't undo this action afterwards."}),Object(c.jsxs)(ee.f,{children:[Object(c.jsx)(m.a,{onClick:a,children:"Cancel"}),Object(c.jsx)(m.a,{colorScheme:"red",ml:3,onClick:r,children:"Delete"})]})]})})})},xe=function(){var e=Object(a.useState)([]),t=Object(N.a)(e,2),n=t[0],r=t[1],i=Object(u.a)(),s=Object(a.useState)(!1),o=Object(N.a)(s,2),d=o[0],j=o[1],l=Object(a.useState)({showDeleteAlert:!1,addOnToRemove:""}),b=Object(N.a)(l,2),O=b[0],h=b[1],p=Object(a.useState)({showUpdateModal:!1,addOnToUpdate:{addOnName:"",addOnPrice:"",addOnAvailable:"",addOnType:"",addOnId:""}}),m=Object(N.a)(p,2),f=m[0],y=m[1];Object(a.useEffect)((function(){k.a.get("".concat(z,"/addon/all")).catch((function(e){return console.log(e)})).then((function(e){var t=e.data;t.addon&&r(t.addon)}))}),[d]);var v=O.showDeleteAlert,C=O.addOnToRemove;return Object(c.jsxs)(x.a,{children:[Object(c.jsxs)(x.a,{d:"flex",justifyContent:"center",mb:"10px",children:[Object(c.jsx)(g.a,{as:"h6",fontWeight:"bold",fontSize:"25px",children:"All AddOn"}),Object(c.jsx)(le.a,{ml:"10px",icon:Object(c.jsx)(oe.a,{}),onClick:function(){return j(!0)}})]}),Object(c.jsx)(be.a,{allowToggle:!0,children:n.map((function(e){return Object(c.jsxs)(be.d,{children:[Object(c.jsxs)(be.b,{justifyContent:"space-between",alignItems:"center",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(be.c,{}),Object(c.jsx)("span",{children:e.addOnName})]}),Object(c.jsxs)(x.a,{d:"flex",children:[Object(c.jsx)(x.a,{mx:"10px",bg:"red.600",borderRadius:"5px",p:"6px",onClick:function(){return h({showDeleteAlert:!0,addOnToRemove:e._id})},children:Object(c.jsx)(de.a,{})}),Object(c.jsx)(x.a,{mx:"10px",bg:"green.400",p:"6px",borderRadius:"5px",onClick:function(){return y({addOnToUpdate:{addOnName:e.addOnName,addOnPrice:e.addOnPrice,addOnType:e.addOnType,addOnAvailable:e.addOnAvailable,addOnId:e._id},showUpdateModal:!0})},children:Object(c.jsx)(je.a,{})})]})]}),Object(c.jsxs)(be.e,{color:"gray.400",children:[Object(c.jsxs)("p",{children:["Addon Price: ",Object(c.jsx)("b",{children:e.addOnPrice})]}),Object(c.jsxs)("p",{children:["Addon type: ",Object(c.jsx)("b",{children:e.addOnType})]}),Object(c.jsxs)("p",{children:["Addon Available: ",Object(c.jsx)("b",{children:e.addOnAvailable?"Yes":"No"})]})]})]},e._id)}))}),Object(c.jsx)(Oe,{name:"AddOn",showAlert:v,handleCancelClick:function(){return h(Object(T.a)(Object(T.a)({},O),{},{showDeleteAlert:!1}))},handleDeleteClick:function(){var e;(e=C,k.a.delete("".concat(z,"/admin/addon/delete/").concat(e)).catch((function(e){return console.log(e)}))).then((function(e){var t=e.data;h({addOnToRemove:"",showDeleteAlert:!1}),t.message?(i({title:"Delete AddOn",description:t.message,status:"success"}),j(!d)):t.error&&i({title:"Error",description:t.error,status:"error"})}))}}),f.showUpdateModal&&Object(c.jsx)(se,Object(T.a)({formType:"update",isOpen:f.showUpdateModal,onClose:function(){return y(Object(T.a)(Object(T.a)({},f),{},{showUpdateModal:!1}))}},f.addOnToUpdate))]})},he=n(253),pe=n(254),me=n(144),fe=n(142),ge=function(e){var t=e.title;return Object(c.jsx)(fe.a,{children:Object(c.jsxs)("title",{children:["Pizzetta - ",t]})})},ye=function(){var e=Object(o.g)(),t=function(e,t){return e.location.pathname===t?{backgroundColor:"#2e8b7b",borderRadius:"10px",padding:"20px 10px",margin:"30px 0",fontWeight:"bold"}:{padding:"20px 10px",margin:"30px 0",fontWeight:"bold"}};return Object(c.jsxs)(he.a,{flexDirection:"column",children:[Object(c.jsx)(pe.a,{as:y.b,_hover:{textDecoration:"none"},style:t(e,"/admin"),_focus:{outline:"none"},to:"/admin",children:"Home"}),Object(c.jsx)(pe.a,{as:y.b,_hover:{textDecoration:"none"},style:t(e,"/admin/category"),_focus:{outline:"none"},to:"/admin/category",children:"Category"}),Object(c.jsx)(pe.a,{as:y.b,_hover:{textDecoration:"none"},style:t(e,"/admin/addon"),_focus:{outline:"none"},to:"/admin/addon",children:"Add On"}),Object(c.jsx)(pe.a,{as:y.b,_hover:{textDecoration:"none"},style:t(e,"/admin/item"),_focus:{outline:"none"},to:"/admin/item",children:"Item"}),Object(c.jsx)(pe.a,{as:y.b,_hover:{textDecoration:"none"},style:t(e,"/admin/order"),_focus:{outline:"none"},to:"/admin/order",children:"Order"})]})},ve=function(e){var t=e.children,n=e.sectionTitle;return Object(c.jsxs)(x.a,{children:[Object(c.jsx)(ge,{title:"Admin ".concat(n.replace("Admin",""))}),Object(c.jsx)(g.a,{as:"h1",textAlign:"center",p:"50px",fontWeight:"bolder",fontSize:"30px",children:"ADMIN PANEL"}),Object(c.jsxs)(me.a,{templateColumns:"0.25fr 1fr",gridGap:"20px",children:[Object(c.jsx)(ye,{}),Object(c.jsxs)(x.a,{children:[Object(c.jsx)(g.a,{as:"h3",color:"white",fontSize:"25px",backgroundColor:"rgb(46, 139, 123)",my:"10px",borderRadius:"10px",fontWeight:"bold",textAlign:"center",children:n}),t]})]})]})},Ce=function(){var e=Object(a.useState)(!1),t=Object(N.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)(ve,{sectionTitle:"AddOn",children:[Object(c.jsx)(x.a,{w:"100%",textAlign:"center",mb:"20px",children:Object(c.jsx)(m.a,{w:"20%",bg:"red.400",onClick:function(){return r(!0)},children:"Create AddOn"})}),Object(c.jsx)(xe,{}),n&&Object(c.jsx)(se,{formType:"create",isOpen:n,onClose:function(){return r(!1)}})]})},Se=n(279),Ae=function(){return k.a.get("".concat(z,"/category/all")).catch((function(e){return console.log(e)}))},we=function(){var e=Object(u.a)(),t=Object(a.useState)(!1),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(""),o=Object(N.a)(s,2),d=o[0],j=o[1];return Object(c.jsxs)(x.a,{w:"40%",mx:"auto",my:"15%",border:"0.1px solid #000",p:"20px",borderRadius:"10px",children:[Object(c.jsx)(g.a,{as:"h4",fontWeight:"bold",textAlign:"center",children:"Add Category"}),Object(c.jsxs)("form",{children:[Object(c.jsx)(ne.a,{my:"10px",variant:"outline",placeholder:"Category Name",onChange:function(e){return j(e.target.value)},value:d}),Object(c.jsx)(m.a,{onClick:function(t){t.preventDefault(),i(!0),function(e){return k.a.post("".concat(z,"/admin/category/create"),{categoryName:e}).catch((function(e){return console.log(e)}))}(d).then((function(t){var n=t.data;n.message?(i(!1),e({title:"Add Category",description:n.message,status:"success"}),j("")):n.error&&(i(!1),e({title:"Error",description:n.error,status:"error"}),j(""))}))},w:"100%",children:r?Object(c.jsx)(Se.a,{}):"ADD"})]})]})},Ie=n(255),Ne=function(){var e=Object(u.a)(),t=Object(a.useState)([]),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)({showDeleteAlert:!1,categoryToRemove:""}),o=Object(N.a)(s,2),d=o[0],j=o[1],l=d.showDeleteAlert,b=d.categoryToRemove;Object(a.useEffect)((function(){Ae().then((function(e){var t=e.data;t.category&&i(t.category)}))}),[d]);return Object(c.jsxs)(x.a,{children:[Object(c.jsx)(g.a,{as:"h2",textAlign:"center",fontWeight:"bold",fontSize:"25px",children:"Manage Categories"}),Object(c.jsx)(x.a,{children:r.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsxs)(he.a,{my:"15px",justifyContent:"space-between",alignItems:"center",children:[Object(c.jsx)("span",{children:e.categoryName}),Object(c.jsx)("div",{children:Object(c.jsx)(m.a,{mx:"10px",bg:"red.600",onClick:function(){j({showDeleteAlert:!0,categoryToRemove:e._id})},children:Object(c.jsx)(de.a,{})})})]}),Object(c.jsx)(Ie.a,{})]},e._id)}))}),Object(c.jsx)(Oe,{showAlert:l,handleCancelClick:function(){return j(Object(T.a)(Object(T.a)({},d),{},{showDeleteAlert:!1}))},handleDeleteClick:function(){var t;(t=b,k.a.delete("".concat(z,"/admin/category/delete/").concat(t)).catch((function(e){return console.log(e)}))).then((function(t){var n=t.data;n.message?(j({categoryToRemove:"",showDeleteAlert:!1}),e({title:"Deleted",description:n.message,status:"success"})):n.error&&e({title:"Error",description:n.error,status:"error"})}))}})]})},De=function(e){e.match;var t=Object(a.useState)(!0),n=Object(N.a)(t,2),r=n[0],i=n[1];return Object(c.jsxs)(ve,{sectionTitle:"Category",children:[Object(c.jsxs)(he.a,{flexDirection:"row",justifyContent:"space-around",children:[Object(c.jsx)(m.a,{bg:"".concat(r?"gray.700":"pink.300"),onClick:function(){return i(!1)},children:"Add"}),Object(c.jsx)(m.a,{bg:"".concat(r?"pink.300":"gray.700"),onClick:function(){return i(!0)},children:"Manage"})]}),r?Object(c.jsx)(Ne,{}):Object(c.jsx)(we,{})]})},ke=n(256),ze=function(){var e=Object(a.useContext)(R).user;return Object(c.jsxs)(ve,{sectionTitle:"Admin Info",children:[Object(c.jsxs)(g.a,{py:"20px",children:[Object(c.jsx)("strong",{children:"Name:"})," ",e.name]}),Object(c.jsxs)(g.a,{py:"20px",children:[Object(c.jsx)("strong",{children:"Email:"})," ",e.email]}),Object(c.jsx)(ke.a,{variant:"subtle",colorScheme:"green",children:"Admin Area"})]})},Te=n(278),Ee=n(285),Re=n(257),_e=n(145),Pe=n.n(_e),Me=function(e){var t=e.isOpen,n=e.onClose,r=e.itemId,i=void 0===r?"":r,s=e.itemName,o=void 0===s?"":s,d=e.itemAvailable,j=void 0!==d&&d,l=e.itemCategory,b=void 0===l?"":l,O=e.size,h=void 0===O?{regular:"",medium:"",large:""}:O,p=e.formType,f=void 0===p?"create":p,y=Object(u.a)(),v=Object(a.useState)([]),C=Object(N.a)(v,2),S=C[0],A=C[1],w=Object(a.useState)({itemName:o,itemCategory:b,itemAvailable:j,size:{regular:h.regular,medium:h.medium,large:h.large},image:[],itemId:i}),I=Object(N.a)(w,2),D=I[0],E=I[1];Object(a.useEffect)((function(){Ae().then((function(e){var t=e.data;t.category&&A(t.category)}))}),[]);var R=function(e){var t=e.target,n=t.name,c=t.value;E(Object(T.a)(Object(T.a)({},D),{},Object($.a)({},n,c)))},_=function(e){var t=e.target,n=t.name,c=t.value;E(Object(T.a)(Object(T.a)({},D),{},{size:Object(T.a)(Object(T.a)({},D.size),{},Object($.a)({},n,c))}))};return Object(c.jsxs)(ee.a,{isOpen:t,onClose:n,children:[Object(c.jsx)(ee.h,{}),Object(c.jsx)(ee.d,{children:Object(c.jsx)(ee.b,{children:Object(c.jsxs)(x.a,{p:"20px",children:[Object(c.jsxs)(g.a,{as:"h4",fontWeight:"bold",textAlign:"center",children:[f.toUpperCase()," Item"]}),Object(c.jsxs)("form",{onSubmit:function(e){var t;if(e.preventDefault(),"update"===f)t=Object(T.a)({},D);else if("create"===f){var n=new FormData;n.append("itemName",D.itemName),n.append("itemAvailable",D.itemAvailable),n.append("itemCategory",D.itemCategory),n.append("size",JSON.stringify(D.size)),n.append("image",D.image[0]),t=n}(function(e,t){return"create"===t?k.a.post("".concat(z,"/admin/item/create"),e).catch((function(e){return console.log(e)})):"update"===t?k.a.put("".concat(z,"/admin/item/update/").concat(e.itemId),e).catch((function(e){return console.log(e)})):void 0})(t,f).then((function(e){var t=e.data;t.message?y({title:"Add Item",description:t.message,status:"success"}):t.error&&y({title:"Error",description:t.error,status:"error"}),E({itemName:"",itemAvailable:"",itemCategory:"",size:{regular:"",medium:"",large:""},image:[]})}))},children:["create"===f&&Object(c.jsx)(Pe.a,{fileContainerStyle:{backgroundColor:"#2D3748"},withIcon:!1,singleImage:!0,withPreview:!0,buttonText:"Choose item image",label:"Max file size: 1mb, accepted: jpg, png",labelStyles:{color:"#fff"},onChange:function(e){return E(Object(T.a)(Object(T.a)({},D),{},{image:e}))},imgExtension:[".jpg",".png"],maxFileSize:1048576,name:"image"}),Object(c.jsx)(ne.a,{my:"10px",variant:"outline",placeholder:"Item Name",name:"itemName",value:D.itemName,onChange:R}),Object(c.jsx)(Te.a,{placeholder:"Select Category",name:"itemCategory",value:D.itemCategory,onChange:R,children:S.map((function(e){return Object(c.jsx)("option",{value:e._id,children:e.categoryName},e._id)}))}),Object(c.jsxs)(Ee.a,{my:"10px",children:[Object(c.jsx)(Re.a,{children:"Regular"}),Object(c.jsx)(ne.a,{type:"number",borderLeftRadius:"0",placeholder:"Regular",name:"regular",value:D.size.regular,onChange:_})]}),Object(c.jsxs)(Ee.a,{my:"10px",children:[Object(c.jsx)(Re.a,{children:"Medium"}),Object(c.jsx)(ne.a,{type:"number",borderLeftRadius:"0",placeholder:"Medium",name:"medium",value:D.size.medium,onChange:_})]}),Object(c.jsxs)(Ee.a,{my:"10px",children:[Object(c.jsx)(Re.a,{children:"Large"}),Object(c.jsx)(ne.a,{type:"number",borderLeftRadius:"0",placeholder:"Large",name:"large",value:D.size.large,onChange:_})]}),Object(c.jsx)(ie.a,{my:"10px",value:D.itemAvailable,onChange:function(e){return E(Object(T.a)(Object(T.a)({},D),{},{itemAvailable:e.target.checked}))},isChecked:D.itemAvailable,children:"Item Availability"}),Object(c.jsx)(m.a,{w:"100%",type:"submit",children:"ADD"})]})]})})})]})},We=function(){return k.a.get("".concat(z,"/item/all")).catch((function(e){return console.log(e)}))},Le=function(){var e=Object(u.a)(),t=Object(a.useState)([]),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)({showDeleteAlert:!1,deleteItemId:""}),o=Object(N.a)(s,2),d=o[0],j=o[1],l=Object(a.useState)({formType:"update",itemName:"",itemId:"",itemCategory:"",itemAvailable:!1,size:{regular:"",medium:"",large:""},showUpdateForm:!1}),b=Object(N.a)(l,2),O=b[0],h=b[1];Object(a.useEffect)((function(){We().then((function(e){var t=e.data;t.item&&i(t.item)}))}),[d]);var m=d.showDeleteAlert,f=d.deleteItemId;return Object(c.jsxs)(x.a,{mt:"40px",children:[Object(c.jsx)(g.a,{as:"h2",textAlign:"center",fontWeight:"bold",fontSize:"25px",children:"Manage Items"}),Object(c.jsx)(be.a,{allowToggle:!0,children:r.map((function(e){return Object(c.jsxs)(be.d,{children:[Object(c.jsxs)(be.b,{display:"flex",justifyContent:"space-between",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(be.c,{}),Object(c.jsx)("span",{children:e.itemName})]}),Object(c.jsxs)(x.a,{d:"flex",children:[Object(c.jsx)(x.a,{mx:"10px",borderRadius:"5px",p:"6px",bg:"red.600",onClick:function(){return j({deleteItemId:e._id,showDeleteAlert:!0})},children:Object(c.jsx)(de.a,{})}),Object(c.jsx)(x.a,{mx:"10px",bg:"green.400",borderRadius:"5px",p:"6px",onClick:function(){return function(e){h(Object(T.a)(Object(T.a)({},O),{},{showUpdateForm:!0,itemName:e.itemName,itemCategory:e.itemCategory._id,itemAvailable:e.itemAvailable,size:{regular:e.size.regular,medium:e.size.medium,large:e.size.large},itemId:e._id}))}(e)},children:Object(c.jsx)(je.a,{})})]})]}),Object(c.jsx)(be.e,{children:Object(c.jsxs)(x.a,{d:"flex",justifyContent:"space-evenly",borderRadius:"10px",color:"gray.400",p:"10px",children:[Object(c.jsx)(p.a,{h:"190px",src:e.image.secure_url,alt:"pizza"}),Object(c.jsxs)(x.a,{children:[Object(c.jsxs)("p",{children:["Item Category: ",Object(c.jsx)("b",{children:e.itemCategory.categoryName})]}),Object(c.jsxs)("p",{children:["Item Available: ",Object(c.jsx)("b",{children:e.itemAvailable?"Yes":"No"})]}),Object(c.jsx)(g.a,{as:"h6",fontWeight:"bold",color:"gray.200",mt:"10px",children:"Prices"}),Object(c.jsx)(Ie.a,{}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["Regular: ",Object(c.jsx)("b",{children:e.size.regular})]}),Object(c.jsxs)("li",{children:["Medium: ",Object(c.jsx)("b",{children:e.size.medium})]}),Object(c.jsxs)("li",{children:["Large: ",Object(c.jsx)("b",{children:e.size.large})]})]})]})]})})]},e._id)}))}),Object(c.jsx)(Oe,{name:"Item",showAlert:m,handleCancelClick:function(){return j({deleteItemId:"",showDeleteAlert:!1})},handleDeleteClick:function(){var t;(t=f,k.a.delete("".concat(z,"/admin/item/delete/").concat(t)).catch((function(e){return console.log(e)}))).then((function(t){var n=t.data;n.message?e({title:"Delete Item",description:n.message,status:"success"}):n.error&&e({title:"Error",description:n.error,status:"error"}),j({deleteItemId:"",showDeleteAlert:!1})}))}}),O.showUpdateForm&&Object(c.jsx)(Me,Object(T.a)({isOpen:O.showUpdateForm,onClose:function(){return h(Object(T.a)(Object(T.a)({},O),{},{showUpdateForm:!1}))}},O))]})},Ue=function(){var e=Object(a.useState)(!1),t=Object(N.a)(e,2),n=t[0],r=t[1];return Object(c.jsxs)(ve,{sectionTitle:"Item",children:[Object(c.jsx)(he.a,{flexDirection:"row",justifyContent:"space-around",children:Object(c.jsx)(m.a,{onClick:function(){return r(!0)},children:"Add Item"})}),n&&Object(c.jsx)(Me,{isOpen:n,onClose:function(){return r(!1)}}),Object(c.jsx)(Le,{})]})},qe=n(261),Fe=n(262),Ge=n(59),He=n(146),Je=n(258),Ye=n(259),Be=n(260),Qe=n(286),Ke=function(){return{type:q}},Ve=function(e,t){return{type:H,payload:e,quantityState:t}},Xe=function(e){return e.itemPrice+e.addOn.reduce((function(e,t){return e+t.addOnPrice}),0)},Ze=function(e){var t=e.item,n=e.admin,r=Object(a.useContext)(B).itemDispatch;return Object(c.jsxs)(x.a,{borderWidth:"1px",borderRadius:"lg",mb:"4px",boxShadow:"md",children:[Object(c.jsxs)(he.a,{justifyContent:"space-between",alignItems:"center",w:"100%",p:"10px",children:[Object(c.jsx)(g.a,{as:"p",fontSize:"20px",children:t.itemName}),Object(c.jsxs)(he.a,{alignItems:"center",children:[Object(c.jsx)(g.a,{mr:"10px",children:t.itemSize}),!n&&Object(c.jsx)(le.a,{_focus:{outline:"none"},icon:Object(c.jsx)(de.a,{}),bg:"red.500",onClick:function(){return r((e=t.id,{type:G,payload:e}));var e}})]})]}),Object(c.jsx)(Ie.a,{}),Object(c.jsxs)(he.a,{p:"10px",justifyContent:"space-between",alignItems:"center",children:[Object(c.jsxs)(x.a,{mr:"13px",children:[Object(c.jsx)(g.a,{as:"p",fontSize:"15px",fontWeight:"bold",children:"Add On"}),Object(c.jsx)(Qe.b,{style:{textIndent:"10px"},children:t.addOn.length>0?t.addOn.map((function(e){return Object(c.jsxs)(Qe.a,{children:[e.addOnName," - ",e.addOnPrice]},e._id)})):Object(c.jsx)(g.a,{color:"gray.500",children:"No Add On"})})]}),Object(c.jsxs)(x.a,{children:[!n&&Object(c.jsx)(le.a,{icon:Object(c.jsx)(Je.a,{}),onClick:function(){return r(Ve(t.id,"increase"))}}),Object(c.jsxs)(g.a,{as:"span",m:"5px",children:[t.quantity,Object(c.jsx)(Ye.a,{h:"9px"}),Xe(t)]}),!n&&Object(c.jsx)(le.a,{icon:Object(c.jsx)(Be.a,{}),onClick:function(){return r(Ve(t.id,"decrease"))}})]})]})]},t.id)},$e=function(e){var t=e.address;return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{children:t.buildingNumber}),Object(c.jsx)("p",{children:t.streetName}),Object(c.jsx)("p",{children:t.area}),Object(c.jsx)("p",{children:t.city}),Object(c.jsx)("p",{children:t.zipcode}),Object(c.jsx)("p",{children:t.phoneNumber})]})},et=function(e){return k.a.get("".concat(z,"/user/profile")).catch((function(e){return console.log(e)}))},tt=n(147),nt=n.n(tt),ct=function(e){return e.reduce((function(e,t){return e+(t.itemPrice+t.addOn.reduce((function(e,t){return e+t.addOnPrice}),0))*t.quantity}),0)},at=function(){var e=Object(u.a)(),t=Object(a.useContext)(R).user,n=Object(a.useContext)(B),r=n.item.cart,i=n.itemDispatch,s=Object(a.useState)({address:[],loaded:!1}),o=Object(N.a)(s,2),d=o[0],j=o[1],l=Object(Ge.useStateWithCallbackLazy)({addressId:"",orderContent:Object(W.a)(r)}),b=Object(N.a)(l,2),O=b[0],h=b[1],p=Object(a.useState)(!1),f=Object(N.a)(p,2),v=f[0],C=f[1];Object(a.useEffect)((function(){et().then((function(e){var t=e.data;t.user&&j({address:Object(W.a)(t.user.address),loaded:!0})}))}),[]);var S=function(t){t.id&&function(e,t){return k.a.post("".concat(z,"/user/order/create"),Object(T.a)(Object(T.a)({},e),{},{token:t})).catch((function(e){return console.log(e)}))}(O,t).then((function(t){var n=t.data;n.message?(e({title:"Order Placed",description:n.message,status:"success"}),i({type:J}),C(!0)):n.error&&e({title:"Error",description:n.error,status:"error"})}))};return r.length>0?Object(c.jsxs)(me.a,{templateColumns:{lg:"75% 25%"},gap:5,mb:"60px",justifyContent:{base:"center"},children:[Object(c.jsx)(ge,{title:"Cart"}),Object(c.jsxs)(x.a,{children:[Object(c.jsx)(he.a,{children:Object(c.jsxs)(m.a,{as:y.b,to:"/",mb:"10px",children:[Object(c.jsx)(qe.a,{}),"GO BACK HOME"]})}),Object(c.jsx)(x.a,{id:"cart-list",children:r.map((function(e){return Object(c.jsx)(Ze,{item:e},e.id)}))})]}),Object(c.jsxs)(x.a,{borderWidth:"1px",borderRadius:"lg",mb:"4px",boxShadow:"md",h:"320px",w:"100%",overflow:"hidden",id:"address",children:[Object(c.jsx)(m.a,{as:y.b,to:"/user/profile",w:"100%",bg:"red.700",borderBottomRadius:"none",children:"ADD NEW ADDRESS"}),Object(c.jsx)(g.a,{textAlign:"center",fontWeight:"bold",fontSize:"30px",children:"or"}),Object(c.jsx)(Ie.a,{}),Object(c.jsxs)(x.a,{children:[Object(c.jsx)(g.a,{p:"10px",fontWeight:"bold",children:"Choose address:"}),Object(c.jsx)(Ie.a,{})]}),Object(c.jsx)(x.a,{overflow:"scroll",h:"64%",children:d.loaded&&t&&d.address.length>0?d.address.map((function(e){var t=e.address,n=e._id;return Object(c.jsxs)(x.a,{cursor:"pointer",_hover:{bg:"gray.400"},bg:O.addressId===n&&"gray.700",onClick:function(){return h(Object(T.a)(Object(T.a)({},O),{},{addressId:n}))},m:"10px",children:[Object(c.jsxs)(he.a,{justifyContent:"space-between",alignItems:"center",children:[Object(c.jsx)($e,{address:t}),O.addressId===n&&Object(c.jsx)(Fe.a,{mr:"30px",fontSize:"28px"})]}),Object(c.jsx)(Ie.a,{})]},n)})):Object(c.jsxs)(x.a,{d:"flex",h:"100%",justifyContent:"center",alignItems:"center",children:[!t&&Object(c.jsx)("p",{children:"Sign In to select an address"}),!d.address.length&&t&&Object(c.jsx)("p",{children:"Please add an address"})]})})]}),Object(c.jsx)(x.a,{position:"fixed",left:"0",right:"0",bottom:"0",w:"100%",h:"50px",p:"20px",d:"flex",alignItems:"center",justifyContent:"flex-end",bg:{base:"gray.700",md:"none",lg:"none"},children:Object(c.jsxs)(x.a,{d:"flex",alignItems:"center",justifyContent:"flex-end",children:[Object(c.jsxs)(g.a,{as:"h5",fontSize:"25px",mr:"10px",children:["Total: \u20b9",ct(r)]}),O.addressId?Object(c.jsx)(nt.a,{stripeKey:"pk_test_51JYvaEAaHCQK07VH2gEqIiXg0T5HMSaQls57rEVzMFRSLkD0r3dBXx4fRzgeAfP9RoxtGNZ0EQpfbqLiP6aHjxNq00vDYXhkcb",token:S,name:"Order Pizza",email:t.email,currency:"INR",amount:100*ct(r),children:Object(c.jsx)(m.a,{bg:"green.400",onClick:S,children:"PLACE ORDER"})}):Object(c.jsx)(m.a,{as:"a",onClick:function(){return e({title:"Select Address",duration:1e3})},href:"#address",children:"Place Order"})]})})]}):Object(c.jsxs)(x.a,{d:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",h:"500px",children:[v&&Object(c.jsxs)(x.a,{borderRadius:"lg",border:"1px",p:"15px",m:"20px",children:[Object(c.jsx)(He.Checkmark,{size:96}),Object(c.jsx)(g.a,{as:"h2",fontSize:"36px",children:"Order placed"})]}),Object(c.jsxs)(x.a,{children:[Object(c.jsx)(g.a,{as:"h2",fontSize:"20px",textAlign:"center",children:"CART IS EMPTY"}),Object(c.jsx)(m.a,{as:y.b,to:"/",children:"ADD TO ITEMS CART"})]})]})},rt=n(47),it=n.n(rt),st=n(60),ot=n(265),dt=n(263),jt=function(e){var t=e.item,n=e.customizeOnClick;return Object(c.jsxs)(x.a,{my:"10px",maxW:"sm",borderWidth:"1px",borderRadius:"5px",overflow:"hidden",boxShadow:"2xl",children:[Object(c.jsx)(p.a,{height:"250px",width:"100%",src:t.image.secure_url,alt:"alt"}),Object(c.jsx)(x.a,{p:"6",children:Object(c.jsxs)(x.a,{display:"flex",flexDirection:"column",py:"10px",children:[Object(c.jsx)(h.a,{as:"h5",fontWeight:"bold",fontSize:"20px",py:"20px",children:t.itemName}),Object(c.jsxs)(g.a,{children:["Starting @ \u20b9",t.size.regular]}),t.itemAvailable?Object(c.jsx)(m.a,{_focus:{outline:"none"},color:"white",bg:"blue.400",onClick:n,children:"ADD TO CART"}):Object(c.jsx)(m.a,{isDisabled:!0,children:"Item Unavailable"})]})})]},t._id)},lt=function(e){var t=e.items,n=e.filterCategoryId,r=Object(a.useContext)(B).itemDispatch,i=Object(o.g)(),s=function(e){r({type:U}),i.push("/?item=".concat(e))};return Object(c.jsx)(c.Fragment,{children:t.filter((function(e){return e.itemCategory._id===n})).map((function(e){return Object(c.jsx)(jt,{item:e,customizeOnClick:function(){return s(e._id)}},e._id)}))})},bt=n(264),ut=n(287),Ot=n(149),xt=n(274);var ht=function(e){var t=e.sectionName,n=e.children;return Object(c.jsxs)(x.a,{my:"15px",children:[Object(c.jsx)(g.a,{as:"p",fontSize:"15px",color:"gray.400",children:t}),Object(c.jsx)(Ie.a,{}),Object(c.jsx)(x.a,{children:n})]})},pt=function(e){var t=e.children;return Object(c.jsx)(x.a,{p:"10px",border:"0.1px #A0AEC0 solid",borderRadius:"3px",children:t})},mt=function(){var e=Object(a.useContext)(B),t=e.item,n=e.itemDispatch,r=new URLSearchParams(Object(o.h)().search),i=Object(u.a)(),s=Object(a.useState)({itemData:null,addOnData:[],isLoaded:!1}),d=Object(N.a)(s,2),j=d[0],l=d[1],b=Object(Ge.useStateWithCallbackLazy)({id:"",itemName:"",itemSize:"",itemId:"",itemPrice:null,addOn:[],quantity:1}),O=Object(N.a)(b,2),h=O[0],f=O[1],g=j.itemData,y=j.addOnData,v=j.isLoaded,C=h.quantity,S=function(){var e=Object(st.a)(it.a.mark((function e(){return it.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(t=r.get("item"),k.a.get("".concat(z,"/item/").concat(t)).catch((function(e){return console.log(e)}))).then((function(e){var t=e.data;l((function(e){return Object(T.a)(Object(T.a)({},e),{},{itemData:t.item})}))}));case 2:return e.next=4,k.a.get("".concat(z,"/addon/all")).catch((function(e){return console.log(e)})).then((function(e){var t=e.data;l((function(e){return Object(T.a)(Object(T.a)({},e),{},{addOnData:t.addon,isLoaded:!0})}))}));case 4:case"end":return e.stop()}var t}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S()}),[]);var A=function(e){if("increase"===e){if(10===C)return"";f(Object(T.a)(Object(T.a)({},h),{},{quantity:C+1}))}else if("decrease"===e){if(1===C)return"";f(Object(T.a)(Object(T.a)({},h),{},{quantity:C-1}))}};return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(ut.a,{placement:"left",onClose:function(){return n(Ke())},isOpen:t.showDrawer,size:"md",children:Object(c.jsx)(ee.h,{children:Object(c.jsxs)(ut.b,{children:[Object(c.jsx)(ee.g,{borderBottomWidth:"1px",children:"Customize Item"}),Object(c.jsx)(ee.b,{children:v?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ge,{title:"Customise ".concat(g.itemName)}),Object(c.jsx)(p.a,{src:g.image.url,alt:"item",h:"250px",m:"0 auto"}),Object(c.jsx)(ht,{sectionName:"Item",children:g.itemName}),Object(c.jsx)(ht,{sectionName:"Category",children:g.itemCategory.categoryName}),Object(c.jsx)(ht,{sectionName:"Select Size",children:Object(c.jsx)(ce.a,{onChange:function(e){return f(Object(T.a)(Object(T.a)({},h),{},{itemSize:e,itemPrice:g.size[e]}))},children:Object(c.jsxs)(dt.a,{columns:3,spacing:2,children:[Object(c.jsxs)(pt,{children:[Object(c.jsx)(re.a,{value:"regular",children:"Regular"}),Object(c.jsx)("p",{children:g.size.regular})]}),Object(c.jsxs)(pt,{children:[Object(c.jsx)(re.a,{value:"medium",children:"Medium"}),Object(c.jsx)("p",{children:g.size.medium})]}),Object(c.jsxs)(pt,{children:[Object(c.jsx)(re.a,{value:"large",children:"Large"}),Object(c.jsx)("p",{children:g.size.large})]})]})})}),Object(c.jsxs)(Ot.a,{onChange:function(e){return f(Object(T.a)(Object(T.a)({},h),{},{addOn:Object(W.a)(e)}))},children:[Object(c.jsx)(ht,{sectionName:"Toppings",children:Object(c.jsx)(dt.a,{columns:3,spacing:2,children:y.filter((function(e){return"topping"===e.addOnType})).map((function(e){return Object(c.jsxs)(pt,{children:[Object(c.jsx)(ie.a,{value:e._id,isDisabled:!e.addOnAvailable,children:e.addOnName}),e.addOnAvailable?Object(c.jsx)("p",{children:e.addOnPrice}):Object(c.jsx)("p",{children:"NA"})]},e._id)}))})}),Object(c.jsx)(ht,{sectionName:"Add On",children:Object(c.jsx)(dt.a,{columns:3,spacing:2,children:y.filter((function(e){return"addon"===e.addOnType})).map((function(e){return Object(c.jsxs)(pt,{children:[Object(c.jsx)(ie.a,{value:e._id,isDisabled:!e.addOnAvailable,children:e.addOnName}),e.addOnAvailable?Object(c.jsx)("p",{children:e.addOnPrice}):Object(c.jsx)("p",{children:"NA"})]},e._id)}))})})]}),Object(c.jsx)(ht,{sectionName:"Quantity",children:Object(c.jsxs)(he.a,{children:[Object(c.jsx)(le.a,{icon:Object(c.jsx)(Je.a,{}),onClick:function(){return A("increase")}}),Object(c.jsx)(m.a,{isDisabled:!0,children:C}),Object(c.jsx)(le.a,{icon:Object(c.jsx)(Be.a,{}),onClick:function(){return A("decrease")}})]})}),Object(c.jsxs)(he.a,{justifyContent:"space-between",mb:"10px",children:[Object(c.jsx)(m.a,{_focus:{outline:"none"},bg:"gray.600",onClick:function(){return n(Ke())},children:"CANCEL"}),Object(c.jsxs)(m.a,{_focus:{outline:"none"},bg:"gray.900",color:"white",onClick:function(){if(!h.itemSize)return i({title:"Error",description:"Choose a size",status:"error",duration:1300}),"";f(Object(T.a)(Object(T.a)({},h),{},{itemName:g.itemName,itemId:g._id,addOn:y.filter((function(e){return h.addOn.includes(e._id)})),id:Object(xt.a)()}),(function(e){n({type:F,payload:e}),n(Ke()),i({title:"Add Cart",description:"Item added to cart",status:"success"})}))},children:["ADD TO CART",Object(c.jsx)(bt.a,{})]})]})]}):Object(c.jsx)(x.a,{d:"flex",justifyContent:"center",alignItems:"center",h:"100%",children:Object(c.jsx)(Se.a,{size:"xl"})})})]})})})})},ft=function(){var e=Object(a.useContext)(B).item,t=Object(a.useState)({categories:[],items:[]}),n=Object(N.a)(t,2),r=n[0],i=n[1],s=Object(Ge.useStateWithCallbackLazy)({searchInput:"",filteredSearchItems:[]}),o=Object(N.a)(s,2),d=o[0],j=o[1],l=function(){var e=Object(st.a)(it.a.mark((function e(){return it.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ae().then((function(e){var t=e.data;t.category&&i((function(e){return Object(T.a)(Object(T.a)({},e),{},{categories:t.category})}))}));case 2:return e.next=4,We().then((function(e){var t=e.data;t.item&&i((function(e){return Object(T.a)(Object(T.a)({},e),{},{items:t.item})}))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){l()}),[]);var b=r.items,u=r.categories,O=d.searchInput,h=d.filteredSearchItems;return Object(c.jsxs)(x.a,{children:[Object(c.jsx)(ge,{title:"Home"}),Object(c.jsxs)(he.a,{w:"50%",mx:"auto",children:[Object(c.jsx)(ne.a,{placeholder:"Search Items...",name:"searchInput",value:O,onChange:function(e){var t=e.target.value;j(Object(T.a)(Object(T.a)({},d),{},{searchInput:t,filteredSearchItems:b.filter((function(e){return e.itemName.toLowerCase().includes(O.toLowerCase())}))}))}}),Object(c.jsx)(m.a,{children:Object(c.jsx)(ot.a,{})})]}),Object(c.jsx)(x.a,{children:u.map((function(e){return Object(c.jsxs)(x.a,{mt:"30px",children:[Object(c.jsx)(g.a,{as:"h3",fontSize:"30px",children:e.categoryName}),Object(c.jsx)(Ie.a,{}),Object(c.jsx)(dt.a,{mt:"20px",columns:{sm:1,md:2,lg:3},children:Object(c.jsx)(lt,{items:O?h:b,filterCategoryId:e._id})})]},e._id)}))}),e.showDrawer&&Object(c.jsx)(mt,{})]})},gt=function(){var e=Object(a.useContext)(R).userDispatch,t=Object(u.a)(),n=Object(a.useState)({email:"",password:""}),r=Object(N.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(!1),d=Object(N.a)(o,2),j=d[0],l=d[1],b=Object(a.useState)(!1),O=Object(N.a)(b,2),h=O[0],p=O[1],f=i.email,y=i.password,v=function(e){var t=e.target.name;s(Object(T.a)(Object(T.a)({},i),{},Object($.a)({},t,e.target.value)))};return j?Object(c.jsx)(Se.a,{size:"xl"}):Object(c.jsx)(x.a,{h:"300px",children:Object(c.jsxs)("form",{children:[Object(c.jsx)(g.a,{fontWeight:"bold",fontSize:"30px",as:"h3",children:"Sign In"}),Object(c.jsx)(ne.a,{my:"5px",onChange:v,placeholder:"Email",name:"email",value:f}),Object(c.jsx)(ne.a,{my:"5px",onChange:v,placeholder:"Password",name:"password",value:y,type:h?"text":"password"}),Object(c.jsx)(ie.a,{onChange:function(){return p(!h)},checked:h,my:"10px",children:"Show Password"}),Object(c.jsx)(m.a,{w:"100%",bg:"green.400",onClick:function(n){f&&y||t({title:"Error",description:"All fields required",status:"error"}),l(!0),function(e){return k.a.post("".concat(z,"/signin"),Object(T.a)({},e)).catch((function(e){return console.log(e)}))}(i).then((function(n){var c=n.data;c.user?(e(w(c.user)),t({title:"Sign In",description:"You've signed in successfully",status:"success"})):c.error&&(t({title:"Error",description:c.error,status:"error"}),l(!1))}))},children:"SIGN IN"})]})})},yt=function(){var e=Object(a.useContext)(R).userDispatch,t=Object(u.a)(),n=Object(a.useState)({firstName:"",lastName:"",email:"",password:""}),r=Object(N.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(!1),d=Object(N.a)(o,2),j=d[0],l=d[1],b=Object(a.useState)(!1),O=Object(N.a)(b,2),h=O[0],p=O[1],f=i.firstName,y=i.lastName,v=i.email,C=i.password,S=function(e){var t=e.target.name;s(Object(T.a)(Object(T.a)({},i),{},Object($.a)({},t,e.target.value)))},A=function(){var n=Object(st.a)(it.a.mark((function n(c){return it.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(f&&y&&v&&C){n.next=2;break}return n.abrupt("return",t({title:"Error",description:"All fields are required",status:"error"}));case 2:l(!0),P(i).then((function(n){var c=n.data;c.user?(e(w(c.user)),t({title:"Sign up",description:"You've signed up successfully",status:"success"})):c.error&&(l(!1),t({title:"Error",description:c.error,status:"error"}))}));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return j?Object(c.jsx)(Se.a,{size:"xl"}):Object(c.jsx)(x.a,{h:"300px",children:Object(c.jsxs)("form",{children:[Object(c.jsx)(g.a,{fontWeight:"bold",fontSize:"30px",as:"h3",children:"Sign Up"}),Object(c.jsx)(ne.a,{my:"5px",onChange:S,name:"firstName",placeholder:"First Name",value:f}),Object(c.jsx)(ne.a,{my:"5px",onChange:S,name:"lastName",placeholder:"Last Name",value:y,isRequired:!0}),Object(c.jsx)(ne.a,{my:"5px",onChange:S,name:"email",placeholder:"Email",value:v}),Object(c.jsx)(ne.a,{my:"5px",onChange:S,name:"password",placeholder:"Password",value:C,type:h?"text":"password"}),Object(c.jsx)(ie.a,{onChange:function(){return p(!h)},checked:h,my:"10px",children:"Show Password"}),Object(c.jsx)(m.a,{w:"100%",bg:"blue.400",onClick:A,children:"SIGN UP"})]})})},vt=Object(o.i)((function(e){e.history;var t=Object(a.useContext)(R).user,n=Object(a.useState)(!0),r=Object(N.a)(n,2),i=r[0],s=r[1];return t?Object(c.jsx)(o.a,{to:"/"}):Object(c.jsxs)(x.a,{h:"90vh",d:"flex",justifyContent:"center",alignItems:"center",children:[Object(c.jsx)(ge,{title:"Sign In"}),Object(c.jsx)(he.a,{flexDirection:"column",justifyContent:"center",alignItems:"center",children:Object(c.jsxs)(x.a,{w:["95vw","85vw","40vw"],border:"1px solid",borderRadius:"10px",children:[Object(c.jsxs)(he.a,{children:[Object(c.jsx)(m.a,{_focus:{outline:"none"},w:"50%",bg:"".concat(i?"blue.400":"gray.500"),onClick:function(){return s(!0)},borderRadius:"0px",borderTopLeftRadius:"9.5px",children:"SIGNIN"}),Object(c.jsx)(m.a,{_focus:{outline:"none"},w:"50%",bg:"".concat(i?"gray.500":"blue.400"),onClick:function(){return s(!1)},borderRadius:"0px",borderTopRightRadius:"9.5px",children:"SIGNUP"})]}),Object(c.jsx)(x.a,{w:"100%",px:"20px",py:"50px",position:"relative",children:i?Object(c.jsx)(gt,{}):Object(c.jsx)(yt,{})})]})})]})})),Ct=n(280),St=n(271),At=n(86),wt=n.n(At),It=function(e){var t=e.addressModal,n=e.handleAddressChange,a=e.handleOpenModal,r=e.handleAddressSave;return Object(c.jsxs)(ee.a,{isOpen:t.openModal,onClose:a,children:[Object(c.jsx)(ee.h,{}),Object(c.jsxs)(ee.d,{children:[Object(c.jsxs)(ee.g,{children:[t.type," Address"]}),Object(c.jsxs)(ee.b,{pb:6,children:[Object(c.jsx)(ne.a,{placeholder:"Building Number",name:"buildingNumber",type:"text",onChange:n,mb:2,value:t.buildingNumber}),Object(c.jsx)(ne.a,{placeholder:"Street Name",name:"streetName",type:"text",onChange:n,mb:2,value:t.streetName}),Object(c.jsx)(ne.a,{placeholder:"Area",name:"area",type:"text",onChange:n,mb:2,value:t.area}),Object(c.jsx)(ne.a,{placeholder:"City",name:"city",type:"text",onChange:n,mb:2,value:t.city}),Object(c.jsx)(ne.a,{placeholder:"Zipcode",name:"zipcode",type:"number",onChange:n,mb:2,value:t.zipcode}),Object(c.jsx)(ne.a,{placeholder:"Phone Number",name:"phoneNumber",type:"number",onChange:n,value:t.phoneNumber})]}),Object(c.jsxs)(ee.f,{children:[Object(c.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:r,children:"Save"}),Object(c.jsx)(m.a,{onClick:a,children:"Cancel"})]})]})]})},Nt=function(){var e=Object(u.a)(),t=Object(a.useState)({loaded:!1}),n=Object(N.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)({buildingNumber:"",streetName:"",area:"",city:"",zipcode:"",phoneNumber:"",openModal:!1,addressId:"",type:""}),d=Object(N.a)(o,2),j=d[0],l=d[1],b=Object(a.useState)(!1),O=Object(N.a)(b,2),h=O[0],p=O[1],f=Object(a.useState)({order:[],page:1}),y=Object(N.a)(f,2),v=y[0],C=y[1];Object(a.useEffect)((function(){et().then((function(e){var t=e.data;t.user&&i(Object(T.a)(Object(T.a)({},t.user),{},{loaded:!0}))}))}),[h]),Object(a.useEffect)((function(){var e;(e=v.page,k.a.get("".concat(z,"/user/order/all/?page=").concat(e)).catch((function(e){return console.log(e)}))).then((function(e){var t=e.data;return C(Object(T.a)(Object(T.a)({},v),{},{order:t.order}))}))}),[v.page]);var S=r.firstName,A=r.lastName,w=r.email,I=r.fullName,D=r.address,E=r.loaded,R=function(t){(function(e){return k.a.delete("".concat(z,"/user/address/delete/").concat(e)).catch((function(e){return console.log(e)}))})(t).then((function(t){var n=t.data;n.message&&(e({title:"Success",description:n.message,status:"success"}),p(!h))}))};return E&&Object(c.jsxs)(s.a,{maxW:"500px",d:"flex",flexDirection:"column",alignItems:"center",mb:"20px",children:[Object(c.jsx)(ge,{title:I}),Object(c.jsxs)(g.a,{as:"h2",fontSize:"30px",children:["Profile: ",I]}),Object(c.jsx)(Ie.a,{}),Object(c.jsx)(Ct.a,{children:Object(c.jsxs)(Ct.b,{children:[Object(c.jsxs)(Ct.d,{children:[Object(c.jsx)(Ct.c,{children:"First Name"}),Object(c.jsx)(Ct.c,{children:S})]}),Object(c.jsxs)(Ct.d,{children:[Object(c.jsx)(Ct.c,{children:"Last Name"}),Object(c.jsx)(Ct.c,{children:A})]}),Object(c.jsxs)(Ct.d,{children:[Object(c.jsx)(Ct.c,{children:"Email"}),Object(c.jsx)(Ct.c,{children:w})]}),Object(c.jsxs)(Ct.d,{children:[Object(c.jsx)(Ct.c,{children:"Address"}),Object(c.jsxs)(Ct.c,{d:"flex",justifyContent:"space-between",children:[Object(c.jsxs)(St.a,{children:[Object(c.jsx)(St.d,{children:Object(c.jsx)(m.a,{children:"Show All Address"})}),Object(c.jsx)(St.c,{py:3,h:"170px",w:"400px",overflow:"scroll",children:Object(c.jsx)(St.b,{children:D.map((function(e){var t=e.address,n=e._id;return Object(c.jsxs)(x.a,{children:[Object(c.jsxs)(he.a,{justifyContent:"space-between",children:[Object(c.jsx)(x.a,{children:Object(c.jsx)($e,{address:t})}),Object(c.jsxs)(he.a,{children:[Object(c.jsx)(m.a,{mr:"5px",onClick:function(){return l(Object(T.a)(Object(T.a)({},t),{},{addressId:n,type:"Update",openModal:!0}))},children:Object(c.jsx)(je.a,{})}),Object(c.jsx)(m.a,{onClick:function(){return R(n)},children:Object(c.jsx)(de.a,{})})]})]}),Object(c.jsx)(Ie.a,{})]},n)}))})})]}),Object(c.jsx)(m.a,{ml:"10px",onClick:function(){return l(Object(T.a)(Object(T.a)({},j),{},{openModal:!0,type:"Create"}))},children:Object(c.jsx)(Je.a,{})})]})]})]})}),Object(c.jsxs)(x.a,{mt:"10px",children:[Object(c.jsx)(g.a,{as:"h4",fontSize:"26px",textAlign:"center",children:"Orders"}),v.order.map((function(e){return Object(c.jsxs)(he.a,{borderWidth:"1px",borderRadius:"lg",justifyContent:"space-between",p:"10px",mb:"10px",children:[Object(c.jsxs)(x.a,{children:[Object(c.jsx)(g.a,{as:"p",color:"gray.500",fontSize:"xs",children:wt()(e.createdAt).fromNow()}),Object(c.jsxs)(g.a,{as:"p",color:"gray.500",children:["Order Id: ",e._id]}),Object(c.jsxs)(g.a,{as:"p",children:["Total: ",e.orderPrice]})]}),Object(c.jsx)(x.a,{children:Object(c.jsx)(g.a,{as:"span",color:"cancelled"===e.orderStatus?"red.300":"green.400",children:e.orderStatus})})]},e._id)})),Object(c.jsx)(m.a,{onClick:function(){return C(Object(T.a)(Object(T.a)({},v),{},{page:v.page<=4?v.page+1:v.page}))},w:"100%",disabled:5===v.page,children:5===v.page?"THE END":"Show More"})]}),Object(c.jsx)(It,{addressModal:j,handleOpenModal:function(){return l({openModal:!j.openModal,buildingNumber:"",streetName:"",area:"",city:"",zipcode:"",phoneNumber:"",addressId:"",type:""})},handleAddressChange:function(e){var t=e.target,n=t.name,c=t.value;l(Object(T.a)(Object(T.a)({},j),{},Object($.a)({},n,c)))},handleAddressSave:function(){(function(e){return"Create"===e.type?k.a.post("".concat(z,"/user/address/add"),{address:e}).catch((function(e){return console.log(e)})):"Update"===e.type?k.a.put("".concat(z,"/user/address/edit"),Object(T.a)({},e)).catch((function(e){return console.log(e)})):void 0})(j).then((function(t){var n=t.data;n.message&&(e({title:"Success",description:n.message,status:"success"}),l(Object(T.a)(Object(T.a)({},j),{},{openModal:!1})),p(!h))}))}})]})},Dt=function(){var e=Object(u.a)(),t=["pending","accepted","completed","delivered","cancelled"],n=Object(a.useState)("pending"),r=Object(N.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)([]),d=Object(N.a)(o,2),j=d[0],l=d[1],b=Object(a.useState)({openModal:!1}),O=Object(N.a)(b,2),h=O[0],p=O[1],f=Object(a.useState)(!1),y=Object(N.a)(f,2),v=y[0],C=y[1];Object(a.useEffect)((function(){k.a.get("".concat(z,"/admin/order/all")).catch((function(e){return console.log(e)})).then((function(e){var t=e.data;l(t.orders)}))}),[v]);return Object(c.jsxs)(ve,{sectionTitle:"Order",children:[Object(c.jsx)(x.a,{d:"flex",justifyContent:"space-around",children:t.map((function(e,t){return Object(c.jsx)(m.a,{disabled:e===i,onClick:function(){return s(e)},children:e},t)}))}),Object(c.jsx)(dt.a,{columns:4,spacing:10,mt:"30px",children:j.filter((function(e){return e.orderStatus===i})).map((function(e){return Object(c.jsxs)(x.a,{onClick:function(){return function(e){p(Object(T.a)(Object(T.a)({},e),{},{openModal:!0}))}(e)},w:"200px",borderWidth:"1px",borderRadius:"lg",cursor:"pointer",p:"10px",children:[Object(c.jsxs)(g.a,{as:"p",children:["Order id: ",e._id.slice(0,12)+"..."]}),Object(c.jsxs)(g.a,{as:"p",children:["Order Total: \u20b9",e.orderPrice]}),Object(c.jsx)(g.a,{as:"span",color:"gray.500",children:wt()(e.createdAt).fromNow()})]},e._id)}))}),h.openModal&&Object(c.jsxs)(ee.a,{isOpen:h.openModal,onClose:function(){return p(Object(T.a)(Object(T.a)({},h),{},{openModal:!1}))},children:[Object(c.jsx)(ee.h,{}),Object(c.jsxs)(ee.d,{children:[Object(c.jsx)(ee.g,{children:"Order View"}),Object(c.jsx)(ee.c,{}),Object(c.jsxs)(ee.b,{children:[Object(c.jsx)(Te.a,{value:h.orderStatus,onChange:function(e){return p(Object(T.a)(Object(T.a)({},h),{},{orderStatus:e.target.value}))},children:t.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))}),Object(c.jsxs)(g.a,{as:"p",fontSize:"15px",m:"15px",textAlign:"right",children:["Total: ",h.orderPrice]}),Object(c.jsx)(be.a,{allowMultiple:!0,children:Object(c.jsxs)(be.d,{children:[Object(c.jsxs)(be.b,{children:["Show Order Content",Object(c.jsx)(be.c,{})]}),Object(c.jsx)(be.e,{pb:4,children:h.orderContent.map((function(e){return Object(c.jsx)(Ze,{item:e,admin:!0},e._id)}))})]})})]}),Object(c.jsxs)(ee.f,{children:[Object(c.jsx)(m.a,{colorScheme:"blue",mr:3,onClick:function(){return p(Object(T.a)(Object(T.a)({},h),{},{openModal:!1}))},children:"Close"}),Object(c.jsx)(m.a,{onClick:function(){var t,n;(t=h._id,n=h.orderStatus,k.a.put("".concat(z,"/admin/order/status/update"),{orderId:t,status:n}).catch((function(e){return console.log(e)}))).then((function(t){var n=t.data;n.message&&(e({title:"Order Updated",description:n.message,status:"success",duration:2e3}),p({openModal:!1}),C(!v))}))},children:"Save"})]})]})]})]})},kt=n.p+"static/media/404.4861ae77.svg",zt=function(){return Object(c.jsx)(x.a,{d:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",h:"80vh",children:Object(c.jsxs)(x.a,{w:"40%",children:[Object(c.jsx)(p.a,{src:kt,w:"100%",mb:"20px"}),Object(c.jsx)(g.a,{as:"h2",textAlign:"center",fontSize:"20px",children:"404 Error! Page not found."}),Object(c.jsx)(m.a,{as:y.b,to:"/",w:"100%",children:"Go Home"})]})})};var Tt=function(e){return e.match,Object(c.jsxs)(s.a,{maxW:"1220px",children:[Object(c.jsx)(K,{}),Object(c.jsxs)(o.d,{children:[Object(c.jsx)(o.b,{exact:!0,path:"/",component:ft}),Object(c.jsx)(o.b,{exact:!0,path:"/signin",component:vt}),Object(c.jsx)(o.b,{exact:!0,path:"/cart",component:at}),Object(c.jsx)(Z,{exact:!0,path:"/user/profile",component:Nt}),Object(c.jsx)(X,{exact:!0,path:"/admin",component:ze}),Object(c.jsx)(X,{exact:!0,path:"/admin/category",component:De}),Object(c.jsx)(X,{exact:!0,path:"/admin/addon",component:Ce}),Object(c.jsx)(X,{exact:!0,path:"/admin/item",component:Ue}),Object(c.jsx)(X,{exact:!0,path:"/admin/order",component:Dt}),Object(c.jsx)(o.b,{component:zt})]})]})},Et=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,288)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},Rt=n(281),_t=n(282),Pt=function(e){var t=e.children;return Object(c.jsx)(_,{children:Object(c.jsx)(Q,{children:t})})},Mt=Object(Rt.a)({config:{useSystemColorMode:!1,initialColorMode:"dark"}});i.a.render(Object(c.jsx)(y.a,{children:Object(c.jsx)(Pt,{children:Object(c.jsx)(_t.a,{theme:Mt,children:Object(c.jsx)(Tt,{})})})}),document.getElementById("root")),Et()}},[[203,1,2]]]);
//# sourceMappingURL=main.29c3eae7.chunk.js.map